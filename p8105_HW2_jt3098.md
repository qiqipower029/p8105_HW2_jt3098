p8105\_HW2\_jt3098
================
Jieqi Tu (jt3098)
9/29/2018

Problem 1
---------

``` r
subway_data = read_csv("./data/NYC_Transit_Subway_Entrance_And_Exit_Data.csv") %>%
  janitor::clean_names() %>%
  select(line, station_name, station_latitude, station_longitude, route1:route11, entry, vending, entrance_type, ada)
```

    ## Parsed with column specification:
    ## cols(
    ##   .default = col_character(),
    ##   `Station Latitude` = col_double(),
    ##   `Station Longitude` = col_double(),
    ##   Route8 = col_integer(),
    ##   Route9 = col_integer(),
    ##   Route10 = col_integer(),
    ##   Route11 = col_integer(),
    ##   ADA = col_logical(),
    ##   `Free Crossover` = col_logical(),
    ##   `Entrance Latitude` = col_double(),
    ##   `Entrance Longitude` = col_double()
    ## )

    ## See spec(...) for full column specifications.

``` r
subway_data$entry = ifelse(subway_data$entry == "YES", TRUE, FALSE)
```

This dataset is called subway\_data. The variable it contains are below:

-   line: the avenue or road in NYC that the station located in
-   station\_name: the names of all stations
-   station\_latitude: the latitude value for this station
-   station\_longitude: the longitude value for this station
-   route1:route11: the train that stops at this station
-   entry: whether or not there is entry for this station
-   vending: whether or not there is vending for this station
-   entrance\_type: the type of the entrance
-   ada: is there ada compliance in this station

Cleaning steps:

-   Import csv file from the data folder
-   Use janitor::clean\_names() function to convert all upper-case letters to lower-case.
-   Use select function to carefully choose columns required to show up in the dataset
-   Use ifelse() function to convert entry variable from character to logical.

Dimension: rows: 1868; columns: 19. This dataset is not tidy, because columns in this dataset are not only variables. Also, some of the columns need to be combinded or collapsed.

``` r
distinction = distinct(subway_data, station_name, line)
subway_data %>%  
  filter(ada == TRUE) %>%
  distinct(line, station_name) %>%
  nrow()
```

    ## [1] 84

``` r
n_entrance_novending = filter(subway_data, entry == "TRUE", vending == "NO") %>%
  distinct(line, station_name) %>%
  nrow()
n_exit_nonvending = filter(subway_data, entry == "FALSE", vending == "NO") %>%
  distinct(line, station_name) %>%
  nrow()
```

-   There are 465 distinct stations in NYC.
-   There are 84 stations are ADA compliant.
-   The proportion of non-vending entrance is 0.0924731; the proportion of non-vending exit is 0.1462366
